<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Superhero Missions</title>

  <!-- Bootstrap + Icons -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet" />

  <!-- Custom Styles -->
  <link rel="stylesheet" href="../styles.css" />
  <link rel="stylesheet" href="../css/style.css" />

  <!-- jQuery -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>

<body class="bg-light text-dark">

  <!-- âœ… HEADER PLACEHOLDER -->
  <div id="header-placeholder" role="banner"></div>

  <!-- âœ… MAIN CONTENT -->
  <main class="container mt-5 text-center">
    <h1 class="text-warning fw-bold">Superhero Missions</h1>
    <p class="lead">Select your mission and prove yourself as the ultimate hero!</p>
  </main>

  <!-- âœ… MISSION CARDS -->
  <section class="container mt-4">
    <div class="row text-center">
      <div class="col-md-4">
        <div class="card bg-danger text-light shadow-lg">
          <img src="../images/darkseid.jpg" class="card-img-top" alt="Darkseid">
          <div class="card-body">
            <h5 class="card-title">ðŸ”¥ Hard Mission</h5>
            <p class="card-text">Stop <strong>Darkseid</strong> from conquering the universe!</p>
          </div>
        </div>
      </div>
      <div class="col-md-4">
        <div class="card bg-warning text-dark shadow-lg">
          <img src="../images/Doc.jpg" class="card-img-top" alt="Doctor Octopus">
          <div class="card-body">
            <h5 class="card-title">âš¡ Medium Mission</h5>
            <p class="card-text">Defeat <strong>Doctor Octopus</strong> before he wrecks the city!</p>
          </div>
        </div>
      </div>
      <div class="col-md-4">
        <div class="card bg-success text-light shadow-lg">
          <img src="../images/granny.webp" class="card-img-top" alt="Helping Grandma">
          <div class="card-body">
            <h5 class="card-title">ðŸ’¡ Easy Mission</h5>
            <p class="card-text">Help <strong>a grandma cross the road</strong> safely!</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- âœ… ADD MISSION FORM -->
  <section class="container mt-5" aria-labelledby="add-mission-heading">
    <h2 id="add-mission-heading" class="text-center text-info">Add a New Mission</h2>
    <div class="card bg-secondary text-light p-4 shadow-lg">
      <form id="missionForm">
        <div class="mb-3">
          <label for="missionName" class="form-label">Mission Name:</label>
          <input type="text" id="missionName" class="form-control" required>
        </div>
        <div class="mb-3">
          <label for="missionDescription" class="form-label">Description:</label>
          <textarea id="missionDescription" class="form-control" rows="3" required></textarea>
        </div>
        <div class="mb-3">
          <label for="missionDate" class="form-label">Due Date:</label>
          <input type="date" id="missionDate" class="form-control" required>
        </div>
        <div class="mb-3">
          <label for="missionPriority" class="form-label">Priority:</label>
          <select id="missionPriority" class="form-control">
            <option value="High">ðŸ”¥ High</option>
            <option value="Medium">âš¡ Medium</option>
            <option value="Low">ðŸ’¡ Low</option>
          </select>
        </div>
        <button type="submit" class="btn btn-success w-100">Add Mission</button>
      </form>
    </div>
  </section>

  <!-- âœ… MISSION TABLE -->
  <section class="container mt-5">
    <h2 class="text-center text-danger">Mission Log</h2>
    <table class="table table-dark table-hover">
      <thead>
        <tr>
          <th>Mission Name</th>
          <th>Description</th>
          <th>Due Date</th>
          <th>Priority</th>
          <th>Status</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody id="missionTable"></tbody>
    </table>
  </section>

  <!-- âœ… SUMMARY -->
  <section class="container mt-5 text-center">
    <h3 class="text-warning">Mission Summary</h3>
    <p><strong>Total:</strong> <span id="totalMissions">0</span></p>
    <p><strong>Pending:</strong> <span id="pendingMissions">0</span></p>
    <p><strong>Completed:</strong> <span id="completedMissions">0</span></p>
  </section>

  <!-- âœ… JS FILES -->
  <script src="../javascript/darkMode.js"></script>
  <script src="../javascript/script.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

<!-- ðŸ”„ Load Footer -->
<div id="footer-placeholder" role="contentinfo"></div>

<!-- âœ… Load Header + Footer + Dark Mode -->
<script>
  $(function () {
    // Load Header
    $('#header-placeholder').load('header.html', function (response, status, xhr) {
      if (status === "error") {
        console.error("Failed to load header.html:", xhr.status, xhr.statusText);
      }
    });

    // Load Footer
    $('#footer-placeholder').load('footer.html', function (response, status, xhr) {
      if (status === "error") {
        console.error("Failed to load footer.html:", xhr.status, xhr.statusText);
      } else {
        // Apply saved dark mode setting
        if (localStorage.getItem('darkMode') === 'enabled') {
          $('body').addClass('dark-mode');
          $('#darkModeToggle').prop('checked', true);
        }

        // Toggle dark mode
        $(document).on('change', '#darkModeToggle', function () {
          $('body').toggleClass('dark-mode');
          localStorage.setItem('darkMode', this.checked ? 'enabled' : 'disabled');
        });
      }
    });
  });
</script>

</body>
</html>
